$(document).ready(function(){var e=$(".modal"),a=$('[data-toggle="modal"]'),t=$(".modal__close");a.on("click",function(){e.toggleClass("modal--visible")}),t.on("click",function(){$(".modal__form")[0].reset(),$("div.invalid").remove(),$(".modal__form").find(".invalid").removeClass("invalid"),e.toggleClass("modal--visible")}),$(document).on("keydown",function(a){"Escape"==a.code&&($(".modal__form")[0].reset(),$("div.invalid").remove(),$(".modal__form").find(".invalid").removeClass("invalid"),e.removeClass("modal--visible"))}),$(document).on("click",function(a){e.is(a.target)&&($(".modal__form")[0].reset(),$("div.invalid").remove(),$(".modal__form").find(".invalid").removeClass("invalid"),e.removeClass("modal--visible"))});var i=$(".ajax-success");$('[data-toggle="ajax-success-close"]');function o(e){e.target.playVideo()}$(".ajax-success__close").on("click",function(){i.removeClass("ajax-success--visible")}),$(document).on("keydown",function(e){"Escape"==e.code&&i.removeClass("ajax-success--visible")}),$(".video__play-button").on("click",function(){new YT.Player("player",{width:"100%",videoId:"_Qhqb8DrTNA",events:{onReady:o}})});new Swiper(".projects__swiper-container",{loop:!0,effect:"fade",spaceBetween:30,pagination:{el:".projects__swiper-pagination",type:"bullets"},navigation:{nextEl:".projects__swiper-button-next",prevEl:".projects__swiper-button-prev"}});var c=$(".projects__swiper-button-next"),s=$(".projects__swiper-button-prev"),n=$(".projects__swiper-pagination");c.css("left",s.width()+17+n.width()+17),n.css("left",s.width()+20);new Swiper(".steps__swiper-container",{loop:!0,effect:"fade",spaceBetween:30,pagination:{el:".swiper-pagination.steps__pagination",clickable:!0},navigation:{nextEl:".steps__button-next",prevEl:".steps__button-prev"}});var r=$(".steps__button-next"),l=$(".steps__button-prev"),d=$(".swiper-pagination.steps__pagination");r.css("left",l.width()+22+d.width()+23),d.css("left",l.width()+22);var _=1,p=$(".steps__slide-number"),m=$(".steps__slide-first__number"),v=[".pagination-steps__block",".pagination-steps__block--1",".pagination-steps__block--2",".pagination-steps__block--3",".pagination-steps__block--4",".pagination-steps__block--5",".pagination-steps__block--6"],u=['[aria-label = "Go to slide 1"]','[aria-label = "Go to slide 2"]','[aria-label = "Go to slide 3"]','[aria-label = "Go to slide 4"]','[aria-label = "Go to slide 5"]','[aria-label = "Go to slide 6"]'];r.on("click",function(){6==_&&(_=0),_+=1,m.text(_),$(v[0]).removeClass("pagination-steps__block--active"),$(v[_]).addClass("pagination-steps__block--active")}),l.on("click",function(){1==_&&(_=7),_-=1,m.text(_),$(v[0]).removeClass("pagination-steps__block--active"),$(v[_]).addClass("pagination-steps__block--active")}),$(u[0]).on("click",function(){p.text("1/6"),$(v[0]).removeClass("pagination-steps__block--active"),$(v[1]).addClass("pagination-steps__block--active")}),$(u[1]).on("click",function(){p.text("2/6"),$(v[0]).removeClass("pagination-steps__block--active"),$(v[2]).addClass("pagination-steps__block--active")}),$(u[2]).on("click",function(){p.text("3/6"),$(v[0]).removeClass("pagination-steps__block--active"),$(v[3]).addClass("pagination-steps__block--active")}),$(u[3]).on("click",function(){p.text("4/6"),$(v[0]).removeClass("pagination-steps__block--active"),$(v[4]).addClass("pagination-steps__block--active")}),$(u[4]).on("click",function(){p.text("5/6"),$(v[0]).removeClass("pagination-steps__block--active"),$(v[5]).addClass("pagination-steps__block--active")}),$(u[5]).on("click",function(){p.text("6/6"),$(v[0]).removeClass("pagination-steps__block--active"),$(v[6]).addClass("pagination-steps__block--active")}),$(v[1]).on("click",function(){$(u[0]).click(),p.text("1/6"),$(v[0]).removeClass("pagination-steps__block--active"),$(v[1]).addClass("pagination-steps__block--active")}),$(v[2]).on("click",function(){$(u[1]).click(),p.text("2/6"),$(v[0]).removeClass("pagination-steps__block--active"),$(v[2]).addClass("pagination-steps__block--active")}),$(v[3]).on("click",function(){$(u[2]).click(),p.text("3/6"),$(v[0]).removeClass("pagination-steps__block--active"),$(v[3]).addClass("pagination-steps__block--active")}),$(v[4]).on("click",function(){$(u[3]).click(),p.text("4/6"),$(v[0]).removeClass("pagination-steps__block--active"),$(v[4]).addClass("pagination-steps__block--active")}),$(v[5]).on("click",function(){$(u[4]).click(),p.text("5/6"),$(v[0]).removeClass("pagination-steps__block--active"),$(v[5]).addClass("pagination-steps__block--active")}),$(v[6]).on("click",function(){p.text("6/6"),$(u[5]).click(),$(v[0]).removeClass("pagination-steps__block--active"),$(v[6]).addClass("pagination-steps__block--active")});var g=[".decor__item",".decor__item--1",".decor__item--2",".decor__item--3",".decor__item--4",".decor__item--5",".decor__item--6",".decor__item--7",".decor__item--8",".decor__item--9",".decor__item--10",".decor__item--11"],f=[".decor__img-wrapper",".decor__img-wrapper--1",".decor__img-wrapper--2",".decor__img-wrapper--3",".decor__img-wrapper--4",".decor__img-wrapper--5",".decor__img-wrapper--6",".decor__img-wrapper--7",".decor__img-wrapper--8",".decor__img-wrapper--9",".decor__img-wrapper--10",".decor__img-wrapper--11"];$(g[1]).on("click",function(){$(g[0]).removeClass("decor__item--active"),$(g[1]).addClass("decor__item--active"),$(f[0]).removeClass("decor__img-wrapper--active"),$(f[1]).addClass("decor__img-wrapper--active")}),$(g[2]).on("click",function(){$(g[0]).removeClass("decor__item--active"),$(g[2]).addClass("decor__item--active"),$(f[0]).removeClass("decor__img-wrapper--active"),$(f[2]).addClass("decor__img-wrapper--active")}),$(g[3]).on("click",function(){$(g[0]).removeClass("decor__item--active"),$(g[3]).addClass("decor__item--active"),$(f[0]).removeClass("decor__img-wrapper--active"),$(f[3]).addClass("decor__img-wrapper--active")}),$(g[4]).on("click",function(){$(g[0]).removeClass("decor__item--active"),$(g[4]).addClass("decor__item--active"),$(f[0]).removeClass("decor__img-wrapper--active"),$(f[4]).addClass("decor__img-wrapper--active")}),$(g[5]).on("click",function(){$(g[0]).removeClass("decor__item--active"),$(g[5]).addClass("decor__item--active"),$(f[0]).removeClass("decor__img-wrapper--active"),$(f[5]).addClass("decor__img-wrapper--active")}),$(g[6]).on("click",function(){$(g[0]).removeClass("decor__item--active"),$(g[6]).addClass("decor__item--active"),$(f[0]).removeClass("decor__img-wrapper--active"),$(f[6]).addClass("decor__img-wrapper--active")}),$(g[7]).on("click",function(){$(g[0]).removeClass("decor__item--active"),$(g[7]).addClass("decor__item--active"),$(f[0]).removeClass("decor__img-wrapper--active"),$(f[7]).addClass("decor__img-wrapper--active")}),$(g[8]).on("click",function(){$(g[0]).removeClass("decor__item--active"),$(g[8]).addClass("decor__item--active"),$(f[0]).removeClass("decor__img-wrapper--active"),$(f[8]).addClass("decor__img-wrapper--active")}),$(g[9]).on("click",function(){$(g[0]).removeClass("decor__item--active"),$(g[9]).addClass("decor__item--active"),$(f[0]).removeClass("decor__img-wrapper--active"),$(f[9]).addClass("decor__img-wrapper--active")}),$(g[10]).on("click",function(){$(g[0]).removeClass("decor__item--active"),$(g[10]).addClass("decor__item--active"),$(f[0]).removeClass("decor__img-wrapper--active"),$(f[10]).addClass("decor__img-wrapper--active")}),$(g[11]).on("click",function(){$(g[0]).removeClass("decor__item--active"),$(g[11]).addClass("decor__item--active"),$(f[0]).removeClass("decor__img-wrapper--active"),$(f[11]).addClass("decor__img-wrapper--active")});new Swiper(".decor__swiper-container",{loop:!0,effect:"fade",spaceBetween:30,navigation:{nextEl:".decor__swiper-button-next",prevEl:".decor__swiper-button-prev"}});$(window).scroll(function(){$(this).scrollTop()>500?$(".button-go-up ").fadeIn():$(".button-go-up ").fadeOut()}),$(".button-go-up ").click(function(){$("body, html").animate({scrollTop:0},1e3)}),$("#menu-nav, #footer-nav, #hero").on("click","a",function(e){e.preventDefault();var a=$(this).attr("href"),t=$(a).offset().top;$("body,html").animate({scrollTop:t-110},1500)});for(var b=[".modal__form",".footer__form",".control__form",".checkout__form"],C=0;C<b.length;C++)k(b[C]);function k(a){$(a).validate({errorClass:"invalid",errorElement:"div",rules:{userName:{required:!0,minlength:2,maxlength:15},userPhone:{required:!0,minlength:18},userEmail:{required:!0,email:!0}},messages:{userName:{required:"Заполните поле",minlength:"Не меньше 2-х букв",maxlength:"Не больше 15-и букв"},userPhone:{required:"Заполните поле",minlength:"Не меньше 10-и цифр"},userEmail:{required:"Заполните поле",email:"Введите корректный email: name@domain.com"}},submitHandler:function(a){$.ajax({type:"POST",url:"send.php",data:$(a).serialize(),success:function(t){return $(a)[0].reset(),e.removeClass("modal--visible"),i.addClass("ajax-success--visible"),ym(61248256,"reachGoal","send-form-success"),!0}})}}),$("[type=tel]").mask("+7 (000) 000-00-00"),$("#agree").on("change",function(){$("#agree").prop("checked")?$("#btn-sumbit").attr("disabled",!1):$("#btn-sumbit").attr("disabled",!0)}),$("#agree-footer").on("change",function(){$("#agree-footer").prop("checked")?$("#btn-sumbit-footer").attr("disabled",!1):$("#btn-sumbit-footer").attr("disabled",!0)}),$("#agree-control").on("change",function(){$("#agree-control").prop("checked")?$("#btn-button-control").attr("disabled",!1):$("#btn-button-control").attr("disabled",!0)}),$("#agree-checkout").on("change",function(){$("#agree-checkout").prop("checked")?$("#btn-sumbit-checkout").attr("disabled",!1):$("#btn-sumbit-checkout").attr("disabled",!0)})}var w=$(".ymap-container").children(".loader"),h=!1;function y(){var e=new ymaps.Map("map-yandex",{center:[55.730138,37.594238],zoom:7,controls:["zoomControl","fullscreenControl"]}),a=new ymaps.Placemark([55.730138,37.594238],{balloonContent:"Здесь может быть ваш адрес"},{iconLayout:"default#imageWithContent",iconImageHref:"img/marker-red.png",iconImageSize:[32,32],iconImageOffset:[-25,-50]});e.geoObjects.add(a),e.behaviors.disable("scrollZoom"),function(e){return new ymaps.vow.Promise(function(a,t){var i=function(e){for(var a in e)if(e.hasOwnProperty(a)&&e[a]instanceof ymaps.layer.tileContainer.CanvasContainer|e[a]instanceof ymaps.layer.tileContainer.DomContainer)return e[a];return null}(e),o=!0;i.tiles.each(function(e,a){e.isReady()||(o=!1)}),o?a():i.events.once("ready",function(){a()})})}(e.layers.get(0).get(0)).then(function(){w.removeClass("is-active")})}var x=function(){$(".ymap-container").mouseenter(function(){var e,a,t;h||(h=!0,w.addClass("is-active"),e="https://api-maps.yandex.ru/2.1/?lang=ru_RU&amp;loadByRequire=1",a=function(){ymaps.load(y)},(t=document.createElement("script")).readyState?t.onreadystatechange=function(){"loaded"!=t.readyState&&"complete"!=t.readyState||(t.onreadystatechange=null,a())}:t.onload=function(){a()},t.src=e,document.getElementsByTagName("head")[0].appendChild(t))})};$(function(){x()})});